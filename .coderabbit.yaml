# CodeRabbit AI Code Review Configuration
# https://docs.coderabbit.ai/

language: en-US
early_access: false
reviews:
  profile: chill
  request_changes_workflow: false
  high_level_summary: true
  poem: false
  review_status: true
  collapse_walkthrough: false
  auto_review:
    enabled: true
    drafts: false
    base_branches:
      - main
  path_filters:
    - "!**/*.md"
    - "!**/*.txt"
    - "!**/go.sum"
    - "!**/vendor/**"
  path_instructions:
    - path: "**/*.go"
      instructions: |
        - Focus on Go best practices and idiomatic patterns
        - Check for proper error handling
        - Review security implications, especially for CLI tools
        - Ensure proper resource cleanup (defer statements)
        - Check for goroutine leaks and race conditions
    - path: "cmd/**/*.go"
      instructions: |
        - Review CLI interface and user experience
        - Check for proper flag/argument validation
        - Ensure helpful error messages for users
    - path: "pkg/**/*.go"
      instructions: |
        - Review API design and package interfaces
        - Check for proper encapsulation
        - Ensure backward compatibility
    - path: "**/*_test.go"
      instructions: |
        - Review test coverage and edge cases
        - Check for table-driven test patterns
        - Ensure tests are deterministic and not flaky
  abort_on_close: true
  auto_title_placeholder: "CodeRabbit"
  tools:
    golangci-lint:
      enabled: true
    shellcheck:
      enabled: true
    yamllint:
      enabled: true
    markdownlint:
      enabled: false

chat:
  auto_reply: true

knowledge_base:
  learnings:
    scope: auto
  issues:
    scope: auto
  jira:
    project_keys: []
  linear:
    team_keys: []
